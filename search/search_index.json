{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Fusion CX integration Integration of Ameyo LiveChatApp with Cogno Bot. BYOB documentation link Models AmeyoAppID This is the AppID given by Ameyo. AppID serves as a 1-1 relationship between bot_id and ameyo_app_id. eg - 44ea1a353b89661ae2e89526247894e3 bot_chat - Webhook endpoint to send bot chat history. livechat_text - Webhook endpoint to send livechat text. livechat_file - Webhook endpoint to send livechat file. chat_disconnected - Webhook endpoint to send customer end chat status. AmeyoAPIElapsedTime Logging of all the API calls that are made between Ameyo and Cogno. AmeyoAppChannelName 1-1 relationship between Cogno Channels model and AmeyoAppChannelName. App layout AmeyoApp/ # Django App name. urls.py # Url routing to views. `assign-agent-request` `agent-send-message`. Note : Do not change this url name. views.py # Entry point for ameyo packets. utils_custom_api.py # All functions related to AmeyoApp in one file. utils_validation.py # AmeyoApp class validations views_ameyowebhook.py # AmeyoWebhook edit from frontend (Optional) What is needed from Ameyo AmeyoAppID - This is the AppID given by Ameyo. AmeyoAppID serves as a 1-1 relationship between bot_id and ameyo_app_id. e.g- 44ea1a352b89661ae2e89526247894e3 bot_chat - Webhook endpoint to send bot chat history. livechat_text - Webhook endpoint to send livechat text. livechat_file - Webhook endpoint to send livechat file. chat_disconnected - Webhook endpoint to send customer end chat status. Send Four API's of Ameyo are consumed by Cogno. The function api calls at Cogno end are -: bot_chat_hisrtory , livechat_text , livechat_file , chat_disconnected . Postman Documentation Payloads coming from ameyo can be manualluy triggered using this. https://documenter.getpostman.com/view/13564927/UyxgJ7nw Note : All webhooks endpoints are mostly same, they just differ in payloads. Receive Two API's of Cogno are consumed by Ameyo. The views at Cogno end are -: AssignAgentRequest - This is used to for agent assignment logic only and pre-assignment system messages. PullMessageFromAmeyoAgent - This is used for receiving messages and media from ameyo agent as well as customer end chat status. AssingAgentRequest AGENT_JOINED_CHAT - Payload with this identifier indicates to assign agent to respective livechat_session_id. If the ameyo_agent_name field in LiveChatUser is present in database then it'll assign the chat to that agent else it'll create new agent with that name and assign chat to it. SEARCHING_FOR_AGENT .. - Payload with this identifier is only displayed as a system message. ALL_AGENT_BUSY - Payload with this identifier indicates no agent is available to pick the chat, hence mark the session as expired. PullMessageFromAmeyoAgent AGENT_MESSAGE - Payload with this identifier indicates normal agent message from ameyo. AGENT_MESSAGE attachment - Payload with this identifier indicates normal agent media message from ameyo. AGENT_LEFT_CHAT - Payload with this identifier indicates agent has closed the chat and display feedback form at cogno end. Postman Documentation https://documenter.getpostman.com/view/13564927/UyxgH7j7 Patches v4.7-dev Download and unzip AmeyoApp in EasyChat folder then, register it in INSTALLED_APPS and logger. Web theme3.js 5eedc79 , 415f156 , 98d4c74 livechat.js 98d4c74 , 55deb2a , fa40d34 , 5eedc79 LiveChatApp/views_agent.py 3a481d3 , 98d4c74 , 9bacb2c , 55deb2a , fa40d34 LiveChatApp/models.py 13ca1a2 , fa40d34 LiveChatApp/constants.py fa40d34 WhatsApp LiveChatApp/livechat_channels_webhook.py fa40d34","title":"Fusion CX integration"},{"location":"#fusion-cx-integration","text":"Integration of Ameyo LiveChatApp with Cogno Bot. BYOB documentation link","title":"Fusion CX integration"},{"location":"#models","text":"","title":"Models"},{"location":"#ameyoappid","text":"This is the AppID given by Ameyo. AppID serves as a 1-1 relationship between bot_id and ameyo_app_id. eg - 44ea1a353b89661ae2e89526247894e3 bot_chat - Webhook endpoint to send bot chat history. livechat_text - Webhook endpoint to send livechat text. livechat_file - Webhook endpoint to send livechat file. chat_disconnected - Webhook endpoint to send customer end chat status.","title":"AmeyoAppID"},{"location":"#ameyoapielapsedtime","text":"Logging of all the API calls that are made between Ameyo and Cogno.","title":"AmeyoAPIElapsedTime"},{"location":"#ameyoappchannelname","text":"1-1 relationship between Cogno Channels model and AmeyoAppChannelName.","title":"AmeyoAppChannelName"},{"location":"#app-layout","text":"AmeyoApp/ # Django App name. urls.py # Url routing to views. `assign-agent-request` `agent-send-message`. Note : Do not change this url name. views.py # Entry point for ameyo packets. utils_custom_api.py # All functions related to AmeyoApp in one file. utils_validation.py # AmeyoApp class validations views_ameyowebhook.py # AmeyoWebhook edit from frontend (Optional)","title":"App layout"},{"location":"#what-is-needed-from-ameyo","text":"AmeyoAppID - This is the AppID given by Ameyo. AmeyoAppID serves as a 1-1 relationship between bot_id and ameyo_app_id. e.g- 44ea1a352b89661ae2e89526247894e3 bot_chat - Webhook endpoint to send bot chat history. livechat_text - Webhook endpoint to send livechat text. livechat_file - Webhook endpoint to send livechat file. chat_disconnected - Webhook endpoint to send customer end chat status.","title":"What is needed from Ameyo"},{"location":"#send","text":"Four API's of Ameyo are consumed by Cogno. The function api calls at Cogno end are -: bot_chat_hisrtory , livechat_text , livechat_file , chat_disconnected .","title":"Send"},{"location":"#postman-documentation","text":"Payloads coming from ameyo can be manualluy triggered using this. https://documenter.getpostman.com/view/13564927/UyxgJ7nw Note : All webhooks endpoints are mostly same, they just differ in payloads.","title":"Postman Documentation"},{"location":"#receive","text":"Two API's of Cogno are consumed by Ameyo. The views at Cogno end are -: AssignAgentRequest - This is used to for agent assignment logic only and pre-assignment system messages. PullMessageFromAmeyoAgent - This is used for receiving messages and media from ameyo agent as well as customer end chat status.","title":"Receive"},{"location":"#assingagentrequest","text":"AGENT_JOINED_CHAT - Payload with this identifier indicates to assign agent to respective livechat_session_id. If the ameyo_agent_name field in LiveChatUser is present in database then it'll assign the chat to that agent else it'll create new agent with that name and assign chat to it. SEARCHING_FOR_AGENT .. - Payload with this identifier is only displayed as a system message. ALL_AGENT_BUSY - Payload with this identifier indicates no agent is available to pick the chat, hence mark the session as expired.","title":"AssingAgentRequest"},{"location":"#pullmessagefromameyoagent","text":"AGENT_MESSAGE - Payload with this identifier indicates normal agent message from ameyo. AGENT_MESSAGE attachment - Payload with this identifier indicates normal agent media message from ameyo. AGENT_LEFT_CHAT - Payload with this identifier indicates agent has closed the chat and display feedback form at cogno end.","title":"PullMessageFromAmeyoAgent"},{"location":"#postman-documentation_1","text":"https://documenter.getpostman.com/view/13564927/UyxgH7j7","title":"Postman Documentation"},{"location":"#patches","text":"","title":"Patches"},{"location":"#v47-dev","text":"Download and unzip AmeyoApp in EasyChat folder then, register it in INSTALLED_APPS and logger.","title":"v4.7-dev"},{"location":"#web","text":"theme3.js 5eedc79 , 415f156 , 98d4c74 livechat.js 98d4c74 , 55deb2a , fa40d34 , 5eedc79 LiveChatApp/views_agent.py 3a481d3 , 98d4c74 , 9bacb2c , 55deb2a , fa40d34 LiveChatApp/models.py 13ca1a2 , fa40d34 LiveChatApp/constants.py fa40d34","title":"Web"},{"location":"#whatsapp","text":"LiveChatApp/livechat_channels_webhook.py fa40d34","title":"WhatsApp"}]}